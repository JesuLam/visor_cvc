<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">  
  <title>CVC Energ√≠a</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@turf/turf@6/turf.min.js"></script>

  <!-- MAPBOX -->
  <script src="https://api.mapbox.com/mapbox-gl-js/v3.4.0/mapbox-gl.js"></script>
  <link href="https://api.mapbox.com/mapbox-gl-js/v3.4.0/mapbox-gl.css" rel="stylesheet" />

  <!-- Estilos externos -->
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <header>
    <img src="https://raw.githubusercontent.com/JesuLam/visor_cvc/main/logo/coelvisac_logo.jpg" 
         alt="Logo CVC Energ√≠a" class="logo">
    <h1>Concesiones CVC Energ√≠a</h1>
    <h2> Jefatura de Desarrollo Territorial</h2>
  </header>

  <!-- üß≠ Panel lateral de informaci√≥n -->
  <div id="info-panel">
    <button id="close-panel">√ó</button>
    
    <h2>Datos de la Concesi√≥n</h2>
    <div id="info-content">
      <p><strong></strong> <span id="info-nombre">‚Äì</span></p>
      <p><strong>√Årea de concesi√≥n (ha):</strong> <span id="info-area-total">‚Äì</span></p>
      <p><strong>A√±o de inicio de operaciones:</strong> <span id="info-ano-inicio">‚Äì</span></p>
    </div>
    
    <span id="info-area-cultivada" style="display:none;"></span>

    <!-- üìä Gr√°fico de evoluci√≥n -->
    <canvas id="graficoCultivos" width="300" height="200"></canvas>
    <div id="resumen-cultivos" class="resumen-cultivos">
      <div class="tarjeta total">
        <p class="titulo">TOTAL CULTIVADO 2024</p>
        <h2 id="totalCultivado">‚Äì</h2>
      </div>
      <div class="tarjeta mosaico">
        <p class="titulo">MOSAICO AGROPECUARIO</p>
        <h3 id="mosaicoHa">‚Äì</h3>
      </div>
      <div class="tarjeta otros">
       <p class="titulo">OTROS CULTIVOS</p>
       <h3 id="otrosHa">‚Äì</h3>
      </div>
    </div>
  </div>

  <!-- üß© Bot√≥n para abrir panel de capas -->
   <button id="btn-capasy" class="btn-hamburguesa">‚ò∞ Capas</button>
  <!-- üóÇÔ∏è Panel de capas -->
  <div id="panel-capas" class="panel-capas"></div>

  <!-- üìç Selector de concesiones -->
  <select name="selector" id="selector">
    <option value="">Seleccione una Concesi√≥n</option>
    <option value="HUA01">Piura - La Huaca</option>
    <option value="OLM01">Lambayeque - Olmos</option>
    <option value="AND01">Lima - Andahuasi</option>
    <option value="VIL01">Ica - Villacur√≠</option>
    <option value="PAS01">Moquegua - Ilo</option>
    <option value="HOS01">Tacna - Hospicio</option>
  </select>

  <!-- üó∫Ô∏è Mapa principal -->
  <div id="map" style="width:100%; height:100vh;"></div>

  <!-- ‚öôÔ∏è Selector de mapas base -->
  <button class="boton-flotante" onclick="toggleLista()">Mapas base</button>
  <div id="lista-bases" class="oculto">
    <label><input type="radio" name="base" value="mapbox://styles/mapbox/satellite-streets-v12" checked> Satelital</label><br>
    <label><input type="radio" name="base" value="mapbox://styles/mapbox/streets-v12"> Calles</label><br>
    <label><input type="radio" name="base" value="mapbox://styles/mapbox/outdoors-v12"> Bosque</label><br>
    <label><input type="radio" name="base" value="mapbox://styles/mapbox/light-v11"> Claro</label><br>
    <label><input type="radio" name="base" value="mapbox://styles/mapbox/dark-v11"> Oscuro</label><br>
  </div>

  <!-- Archivo JavaScript externo -->
  <script type="module" src="app.js"></script>

</body>

</html>

